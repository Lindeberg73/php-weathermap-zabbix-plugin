{"name":"PHP-weathermap Zabbix plugin","tagline":"PHP Weathermap plugin for Zabbix (using Zabbix API)","body":"# Zabbix plugin for PHP Network Weathermap\r\n\r\nThis plugin integrates the Zabbix monitoring tool into [PHP Weathermap](http://www.network-weathermap.com), using [Zabbix JSON API](https://www.zabbix.com/documentation/2.0/manual/appendix/api/api). It tends to provide the same functionnalities as the Cacti plugin : \r\n* Bandwith data retrieving\r\n* Integration of bandwith and host graph\r\n* Easy configuration using the Zabbix names, accessed using Zabbix web API\r\n\r\n![Example of graph integration](https://wiki.minet.net/_media/wiki/monitoring/weathermap.png?w=600&tok=91fcb0)\r\n\r\n## Requirements\r\n\r\nThe plugins requires:\r\n* Zabbix >= 2.0 (but it is probably easy to adapt it for older releases)\r\n* PHP Network Weathermap >= 0.97b (but it is easy to adapt it for older releases)\r\n\r\n## Installation\r\n\r\nCopy the content of the `lib` folder into the `lib` folder of your PHP Weathermap installation.\r\n\r\n## Configuration\r\n\r\n### Configuration of the new datasource for traffic\r\n\r\nYou have to configure the following parameters in your weathermap file global settings:\r\n\r\n---\r\n\r\n`SET zabbix_user username`\r\n\r\nZabbix username you want to connect with.\r\n\r\n---\r\n\r\n`SET zabbix_password password`\r\n\r\nZabbix password for the given user, you can connect with a `guest` account by ommitting this parameter.\r\n\r\n---\r\n\r\n`SET zabbix_url http://zabbix/zabbix/api_jsonrpc.php`\r\n\r\nThe Zabbix API URL used to make requests.\r\n\r\n---\r\n\r\nTo configure a link, use the following `TARGET` syntax:\r\n\r\n```\r\nTARGET zabbix:keyname:hostname:input_item_name:output_item_name\r\n```\r\n\r\nwith:\r\n\r\n* `keyname`: the attribute you want to use to select items in the configuration, possible values:\r\n** `name` refers to the item name configured in Zabbix\r\n** `key_` refers to the key configured in Zabbix\r\n** `itemid` refers to the item id used by Zabbix\r\n* `hostname`: the hostname of the host you want to use\r\n* `input_item_name`: the input item identifier (according to what you put as keyname)\r\n* `output_item_name`: the output item identifier (according to what you put as keyname)\r\n\r\nFor example:\r\n\r\n```\r\nTARGET zabbix:name:switch-01:GigabitEthernet3/8-IN:GigabitEthernet3/8-OUT\r\n```\r\n\r\n### Configuration of the Zabbix graphs integration\r\n\r\nYou have to configure the following parameters in yoour weathermap file:\r\n\r\n---\r\n\r\n`SET post_zabbix_graphs 1`\r\n\r\nEnable the Zabbix integration for overlib graphs, using a specific `OVERLIBGRAPH` syntax.\r\n\r\n---\r\n\r\n`SET post_zabbix_graph_links 1`\r\n\r\nEnable the links to the graph page in Zabbix, overriding the `INFOURL` links with link to a Zabbix graph.\r\n\r\n---\r\n\r\n`SET post_zabbix_graph_base_url https://zabbix/zabbix`\r\n\r\nThe URL to the Zabbix frontend used to generate the graphs links.\r\n\r\n---\r\n\r\n`SET post_zabbix_graph_width 420`\r\n\r\nThe graphs width in pixels, use `OVERLIBWIDTH` to improve the positionning of the popup image. This is the width of the actual graph, and the image will be larger.\r\n\r\n---\r\n\r\n`SET post_zabbix_graph_height 150`\r\n\r\nThe graph height in pixels, use `OVERLIBHEIGHT` to improve the positionning of the popup image. This is the height of the actual graph, and the image will be larger.\r\n\r\n---\r\n\r\n`SET post_zabbix_graph_period 86400`\r\n\r\nThe graph period in seconds.\r\n\r\n---\r\n\r\nTo configure a graph, use the following `OVERLIBGRAPH` syntax, for nodes and links:\r\n\r\n```\r\nOVERLIBGRAPH zabbix:hostname:graph_name\r\n```\r\n\r\nwith:\r\n\r\n* `keyname`: the attribute you want to use to select items in the configuration, possible values:\r\n** `name` refers to the graph name configured in Zabbix\r\n** `graphid` refers to the graph is used by Zabbix\r\n* `hostname`: the hostname of the host you want to use\r\n* `graph_name`: the graph identifier (according to what you put as keyname)\r\n\r\nFor example:\r\n\r\n```\r\nOVERLIBGRAPH zabbix:switch-01:GigabitEthernet3/8\r\n```\r\n\r\nIt can also be used with `INOVERLIBGRAPH` and `OUTOVERLIBGRAPH` (for links only):\r\n\r\n```\r\nINOVERLIBGRAPH zabbix:name:switch-01:GigabitEthernet3/8-IN\r\nOUTOVERLIBGRAPH zabbix:name:switch-01:GigabitEthernet3/8-OUT\r\n```\r\n\r\nThe generated `INFOURL` will be a link to the configured graph in your Zabbix frontend.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}